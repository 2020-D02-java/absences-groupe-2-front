<div class="row justify-content-md-center">
    <div class="col-md-auto" style="border: 1px solid #ced4da;background-color: #e3f2fd; border-radius:7px; ">
        <h2>Gestion des absences</h2>
    </div>
</div>
<br/>
<table class="table table-striped">
    <thead class="bg-secondary">
        <tr>
            <th scope="col" class="border border-dark">Date de début</th>
            <th scope="col" class="border border-dark">Date de fin</th>
            <th scope="col" class="border border-dark">Type</th>
            <th scope="col" class="border border-dark">Statut</th>
            <th *ngIf="collegue.roles[0] == roleEnum.RoleAdmin" scope="col" class="border border-dark">Action</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let absence of listeAbsences">
            <td class="border border-dark">{{absence.dateDebut | date: 'dd/MM/yyyy'}}</td>
            <td class="border border-dark">{{absence.dateFin | date: 'dd/MM/yyyy'}}</td>
            <td class="border border-dark">{{absence.type | lowercase}}</td>
            <td class="border border-dark">{{absence.statut}}</td>
            <td class="border border-dark">
              <a routerLink="../modificationAbsence">
                <button *ngIf="absence.statut == statutEnum.INITIALE || absence.statut == statutEnum.REJETEE" class="btn"><fa-icon [icon]="faPencil"></fa-icon></button>
              </a>
                <button *ngIf="absence.statut == statutEnum.INITIALE" class="btn" (click)="open(mymodal, absence.id)">
                    <fa-icon [icon]="faTrash"></fa-icon>
                </button>
            </td>
            <!-- moddal choix suppression -->
            <ng-template #mymodal let-modal>
                <div class="modal-header">
                    <h4 class="modal-title" id="modal-basic-title">Suppression d'une absence</h4>
                    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                        <span aria-hidden="true">X</span>
                    </button>
                </div>
                <div class="modal-body">
                    <h5>&Ecirc;tes vous s&ucirc;r de vouloir supprimer : <br></h5>
                    <ul>
                        <li><b>Id : </b>{{absence.id}}</li>
                        <li><b>Date de d&eacute;but : </b>{{absence.dateDebut}}</li>
                        <li><b>Date de fin : </b>{{absence.dateFin}}</li>
                        <li><b>Type : </b>{{absence.type | lowercase}}</li>
                        <li><b>Statut : </b>{{absence.statut}}</li>
                        <li><b>Motif : </b>{{absence.motif}}</li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <div class="alert alert-success" role="success" *ngIf="message">
                        <b>{{message}}</b>
                    </div>
                    <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Je suis sur
                        !</button>
                </div>
            </ng-template>
        </tr>
    </tbody>
</table>

<!-- <div class="row">
  <div class="offset-9 col-3">
   <a routerLink="../demandeAbsence"><button class="float-right btn btn-success">Demander une absence</button></a>
  </div>
</div> -->

<div class="row justify-content-md-center">
  <div class="col-md-auto">
      <a routerLink="../demandeAbsence">
        <button class="btn btn-success">
              <fa-icon [icon]="faPlus"></fa-icon> Demande d'absence
        </button>
      </a>
  </div>
</div>



<label><b>Solde des compteurs :</b></label>
<ul *ngFor="let solde of listeSoldes">
  <li *ngIf="solde.type.toString() == soldeEnum.CONGES_PAYES">Congés payés : {{solde.nombreDeJours}}</li>
  <li *ngIf="solde.type.toString() == soldeEnum.RTT_EMPLOYE">RTT : {{solde.nombreDeJours}}</li>
</ul>
<br/>

